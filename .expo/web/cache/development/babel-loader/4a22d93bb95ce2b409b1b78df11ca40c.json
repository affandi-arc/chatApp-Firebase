{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _excluded = [\"messages\", \"user\", \"inverted\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport LoadEarlier from \"./LoadEarlier\";\nimport Message from \"./Message\";\nimport Color from \"./Color\";\nimport { warning, StylePropType } from \"./utils\";\nimport TypingIndicator from \"./TypingIndicator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  containerAlignTop: {\n    flexDirection: 'row',\n    alignItems: 'flex-start'\n  },\n  contentContainerStyle: {\n    flexGrow: 1,\n    justifyContent: 'flex-start'\n  },\n  emptyChatContainer: {\n    flex: 1,\n    transform: [{\n      scaleY: -1\n    }]\n  },\n  headerWrapper: {\n    flex: 1\n  },\n  listStyle: {\n    flex: 1\n  },\n  scrollToBottomStyle: {\n    opacity: 0.8,\n    position: 'absolute',\n    right: 10,\n    bottom: 30,\n    zIndex: 999,\n    height: 40,\n    width: 40,\n    borderRadius: 20,\n    backgroundColor: Color.white,\n    alignItems: 'center',\n    justifyContent: 'center',\n    shadowColor: Color.black,\n    shadowOpacity: 0.5,\n    shadowOffset: {\n      width: 0,\n      height: 0\n    },\n    shadowRadius: 1\n  }\n});\nvar MessageContainer = function (_React$PureComponent) {\n  _inherits(MessageContainer, _React$PureComponent);\n  var _super = _createSuper(MessageContainer);\n  function MessageContainer() {\n    var _this;\n    _classCallCheck(this, MessageContainer);\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      showScrollBottom: false\n    };\n    _this.attachKeyboardListeners = function () {\n      var invertibleProps = _this.props.invertibleScrollViewProps;\n      if (invertibleProps) {\n        Keyboard.addListener('keyboardWillShow', invertibleProps.onKeyboardWillShow);\n        Keyboard.addListener('keyboardDidShow', invertibleProps.onKeyboardDidShow);\n        Keyboard.addListener('keyboardWillHide', invertibleProps.onKeyboardWillHide);\n        Keyboard.addListener('keyboardDidHide', invertibleProps.onKeyboardDidHide);\n      }\n    };\n    _this.detachKeyboardListeners = function () {\n      var invertibleProps = _this.props.invertibleScrollViewProps;\n      Keyboard.removeListener('keyboardWillShow', invertibleProps.onKeyboardWillShow);\n      Keyboard.removeListener('keyboardDidShow', invertibleProps.onKeyboardDidShow);\n      Keyboard.removeListener('keyboardWillHide', invertibleProps.onKeyboardWillHide);\n      Keyboard.removeListener('keyboardDidHide', invertibleProps.onKeyboardDidHide);\n    };\n    _this.renderTypingIndicator = function () {\n      if (Platform.OS === 'web') {\n        return null;\n      }\n      return _jsx(TypingIndicator, {\n        isTyping: _this.props.isTyping || false\n      });\n    };\n    _this.renderFooter = function () {\n      if (_this.props.renderFooter) {\n        return _this.props.renderFooter(_this.props);\n      }\n      return _this.renderTypingIndicator();\n    };\n    _this.renderLoadEarlier = function () {\n      if (_this.props.loadEarlier === true) {\n        var loadEarlierProps = _objectSpread({}, _this.props);\n        if (_this.props.renderLoadEarlier) {\n          return _this.props.renderLoadEarlier(loadEarlierProps);\n        }\n        return _jsx(LoadEarlier, _objectSpread({}, loadEarlierProps));\n      }\n      return null;\n    };\n    _this.scrollToBottom = function () {\n      var animated = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var inverted = _this.props.inverted;\n      if (inverted) {\n        _this.scrollTo({\n          offset: 0,\n          animated: animated\n        });\n      } else if (_this.props.forwardRef && _this.props.forwardRef.current) {\n        _this.props.forwardRef.current.scrollToEnd({\n          animated: animated\n        });\n      }\n    };\n    _this.handleOnScroll = function (event) {\n      var _event$nativeEvent = event.nativeEvent,\n        contentOffsetY = _event$nativeEvent.contentOffset.y,\n        contentSizeHeight = _event$nativeEvent.contentSize.height,\n        layoutMeasurementHeight = _event$nativeEvent.layoutMeasurement.height;\n      var scrollToBottomOffset = _this.props.scrollToBottomOffset;\n      if (_this.props.inverted) {\n        if (contentOffsetY > scrollToBottomOffset) {\n          _this.setState({\n            showScrollBottom: true\n          });\n        } else {\n          _this.setState({\n            showScrollBottom: false\n          });\n        }\n      } else {\n        if (contentOffsetY < scrollToBottomOffset && contentSizeHeight - layoutMeasurementHeight > scrollToBottomOffset) {\n          _this.setState({\n            showScrollBottom: true\n          });\n        } else {\n          _this.setState({\n            showScrollBottom: false\n          });\n        }\n      }\n    };\n    _this.renderRow = function (_ref) {\n      var item = _ref.item,\n        index = _ref.index;\n      if (!item._id && item._id !== 0) {\n        warning('GiftedChat: `_id` is missing for message', JSON.stringify(item));\n      }\n      if (!item.user) {\n        if (!item.system) {\n          warning('GiftedChat: `user` is missing for message', JSON.stringify(item));\n        }\n        item.user = {\n          _id: 0\n        };\n      }\n      var _this$props = _this.props,\n        messages = _this$props.messages,\n        user = _this$props.user,\n        inverted = _this$props.inverted,\n        restProps = _objectWithoutProperties(_this$props, _excluded);\n      if (messages && user) {\n        var previousMessage = (inverted ? messages[index + 1] : messages[index - 1]) || {};\n        var nextMessage = (inverted ? messages[index - 1] : messages[index + 1]) || {};\n        var messageProps = _objectSpread(_objectSpread({}, restProps), {}, {\n          user: user,\n          key: item._id,\n          currentMessage: item,\n          previousMessage: previousMessage,\n          inverted: inverted,\n          nextMessage: nextMessage,\n          position: item.user._id === user._id ? 'right' : 'left'\n        });\n        if (_this.props.renderMessage) {\n          return _this.props.renderMessage(messageProps);\n        }\n        return _jsx(Message, _objectSpread({}, messageProps));\n      }\n      return null;\n    };\n    _this.renderChatEmpty = function () {\n      if (_this.props.renderChatEmpty) {\n        return _this.props.inverted ? _this.props.renderChatEmpty() : _jsx(View, {\n          style: styles.emptyChatContainer,\n          children: _this.props.renderChatEmpty()\n        });\n      }\n      return _jsx(View, {\n        style: styles.container\n      });\n    };\n    _this.renderHeaderWrapper = function () {\n      return _jsx(View, {\n        style: styles.headerWrapper,\n        children: _this.renderLoadEarlier()\n      });\n    };\n    _this.onLayoutList = function () {\n      if (!_this.props.inverted && !!_this.props.messages && _this.props.messages.length) {\n        setTimeout(function () {\n          return _this.scrollToBottom && _this.scrollToBottom(false);\n        }, 15 * _this.props.messages.length);\n      }\n    };\n    _this.onEndReached = function (_ref2) {\n      var distanceFromEnd = _ref2.distanceFromEnd;\n      var _this$props2 = _this.props,\n        loadEarlier = _this$props2.loadEarlier,\n        onLoadEarlier = _this$props2.onLoadEarlier,\n        infiniteScroll = _this$props2.infiniteScroll,\n        isLoadingEarlier = _this$props2.isLoadingEarlier;\n      if (infiniteScroll && distanceFromEnd > 0 && distanceFromEnd <= 100 && loadEarlier && onLoadEarlier && !isLoadingEarlier && Platform.OS !== 'web') {\n        onLoadEarlier();\n      }\n    };\n    _this.keyExtractor = function (item) {\n      return \"\" + item._id;\n    };\n    return _this;\n  }\n  _createClass(MessageContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.messages && this.props.messages.length === 0) {\n        this.attachKeyboardListeners();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.detachKeyboardListeners();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.messages && prevProps.messages.length === 0 && this.props.messages && this.props.messages.length > 0) {\n        this.detachKeyboardListeners();\n      } else if (prevProps.messages && this.props.messages && prevProps.messages.length > 0 && this.props.messages.length === 0) {\n        this.attachKeyboardListeners();\n      }\n    }\n  }, {\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      if (this.props.forwardRef && this.props.forwardRef.current && options) {\n        this.props.forwardRef.current.scrollToOffset(options);\n      }\n    }\n  }, {\n    key: \"renderScrollBottomComponent\",\n    value: function renderScrollBottomComponent() {\n      var scrollToBottomComponent = this.props.scrollToBottomComponent;\n      if (scrollToBottomComponent) {\n        return scrollToBottomComponent();\n      }\n      return _jsx(Text, {\n        children: \"V\"\n      });\n    }\n  }, {\n    key: \"renderScrollToBottomWrapper\",\n    value: function renderScrollToBottomWrapper() {\n      var _this2 = this;\n      var propsStyle = this.props.scrollToBottomStyle || {};\n      return _jsx(View, {\n        style: [styles.scrollToBottomStyle, propsStyle],\n        children: _jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this2.scrollToBottom();\n          },\n          hitSlop: {\n            top: 5,\n            left: 5,\n            right: 5,\n            bottom: 5\n          },\n          children: this.renderScrollBottomComponent()\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var inverted = this.props.inverted;\n      return _jsxs(View, {\n        style: this.props.alignTop ? styles.containerAlignTop : styles.container,\n        children: [this.state.showScrollBottom && this.props.scrollToBottom ? this.renderScrollToBottomWrapper() : null, _jsx(FlatList, _objectSpread(_objectSpread({\n          ref: this.props.forwardRef,\n          extraData: [this.props.extraData, this.props.isTyping],\n          keyExtractor: this.keyExtractor,\n          enableEmptySections: true,\n          automaticallyAdjustContentInsets: false,\n          inverted: inverted,\n          data: this.props.messages,\n          style: styles.listStyle,\n          contentContainerStyle: styles.contentContainerStyle,\n          renderItem: this.renderRow\n        }, this.props.invertibleScrollViewProps), {}, {\n          ListEmptyComponent: this.renderChatEmpty,\n          ListFooterComponent: inverted ? this.renderHeaderWrapper : this.renderFooter,\n          ListHeaderComponent: inverted ? this.renderFooter : this.renderHeaderWrapper,\n          onScroll: this.handleOnScroll,\n          scrollEventThrottle: 100,\n          onLayout: this.onLayoutList,\n          onEndReached: this.onEndReached,\n          onEndReachedThreshold: 0.1\n        }, this.props.listViewProps))]\n      });\n    }\n  }]);\n  return MessageContainer;\n}(React.PureComponent);\nexport { MessageContainer as default };\nMessageContainer.defaultProps = {\n  messages: [],\n  user: {},\n  isTyping: false,\n  renderChatEmpty: null,\n  renderFooter: null,\n  renderMessage: null,\n  onLoadEarlier: function onLoadEarlier() {},\n  onQuickReply: function onQuickReply() {},\n  inverted: true,\n  loadEarlier: false,\n  listViewProps: {},\n  invertibleScrollViewProps: {},\n  extraData: null,\n  scrollToBottom: false,\n  scrollToBottomOffset: 200,\n  alignTop: false,\n  scrollToBottomStyle: {},\n  infiniteScroll: false,\n  isLoadingEarlier: false\n};\nMessageContainer.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object),\n  isTyping: PropTypes.bool,\n  user: PropTypes.object,\n  renderChatEmpty: PropTypes.func,\n  renderFooter: PropTypes.func,\n  renderMessage: PropTypes.func,\n  renderLoadEarlier: PropTypes.func,\n  onLoadEarlier: PropTypes.func,\n  listViewProps: PropTypes.object,\n  inverted: PropTypes.bool,\n  loadEarlier: PropTypes.bool,\n  invertibleScrollViewProps: PropTypes.object,\n  extraData: PropTypes.array,\n  scrollToBottom: PropTypes.bool,\n  scrollToBottomOffset: PropTypes.number,\n  scrollToBottomComponent: PropTypes.func,\n  alignTop: PropTypes.bool,\n  scrollToBottomStyle: StylePropType,\n  infiniteScroll: PropTypes.bool\n};","map":{"version":3,"mappings":"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","names":["PropTypes","React","LoadEarlier","Message","Color","warning","StylePropType","TypingIndicator","styles","StyleSheet","create","container","flex","containerAlignTop","flexDirection","alignItems","contentContainerStyle","flexGrow","justifyContent","emptyChatContainer","transform","scaleY","headerWrapper","listStyle","scrollToBottomStyle","opacity","position","right","bottom","zIndex","height","width","borderRadius","backgroundColor","white","shadowColor","black","shadowOpacity","shadowOffset","shadowRadius","MessageContainer","showScrollBottom","invertibleProps","props","invertibleScrollViewProps","Keyboard","addListener","onKeyboardWillShow","onKeyboardDidShow","onKeyboardWillHide","onKeyboardDidHide","removeListener","Platform","OS","isTyping","renderFooter","renderTypingIndicator","loadEarlier","loadEarlierProps","renderLoadEarlier","animated","inverted","scrollTo","offset","forwardRef","current","scrollToEnd","event","nativeEvent","contentOffsetY","contentOffset","y","contentSizeHeight","contentSize","layoutMeasurementHeight","layoutMeasurement","scrollToBottomOffset","setState","item","index","_id","JSON","stringify","user","system","messages","restProps","previousMessage","nextMessage","messageProps","key","currentMessage","renderMessage","renderChatEmpty","length","setTimeout","scrollToBottom","distanceFromEnd","onLoadEarlier","infiniteScroll","isLoadingEarlier","attachKeyboardListeners","detachKeyboardListeners","prevProps","options","scrollToOffset","scrollToBottomComponent","propsStyle","top","left","renderScrollBottomComponent","alignTop","state","renderScrollToBottomWrapper","extraData","keyExtractor","renderRow","renderHeaderWrapper","handleOnScroll","onLayoutList","onEndReached","listViewProps","PureComponent","onQuickReply","arrayOf","object","bool","func","array","number"],"sourceRoot":"","sources":["../src/MessageContainer.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}